---
layout: post
title: Boss sites and websites
date: 2023-08-22 00:00:00.000000000 +00:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- random
tags: []
image: assets/2023/08/lair_warlock_3.png
meta:
author:
permalink: "/2023/08/24/boss-sites-and-websites/"
---

<p>For this week, more work on lairs, and more work on this website. </p>
<p><strong>Lairs</strong></p>
<p>I&#39;ve added a few more lairs to further stress the system. Picture time!</p>

<figure><a href="{{ site.baseurl }}/assets/2023/08/lair_beast_cave.png" target="_blank"><img src="{{ site.baseurl }}/assets/2023/08/lair_beast_cave.png" alt="Beast cave lair" width="1098" height="898" loading="eager" style="image-resolution: from-image;" srcset="{{ site.baseurl }}/assets/2023/08/variants/lair_beast_cave.webp 1098w, {{ site.baseurl }}/assets/2023/08/variants/lair_beast_cave-960w.webp 960w, {{ site.baseurl }}/assets/2023/08/variants/lair_beast_cave-640w.webp 640w, {{ site.baseurl }}/assets/2023/08/variants/lair_beast_cave-320w.webp 320w" sizes="(min-width: 820px) 660px, (min-width: 520px) calc(100vw - 110px), (min-width: 460px) calc(175vw - 485px), calc(92.86vw - 89px)"/></a><br />
<figcaption>Beast cave lair</figcaption>
</figure>

<figure><a href="{{ site.baseurl }}/assets/2023/08/lair_flyer.png" target="_blank"><img src="{{ site.baseurl }}/assets/2023/08/lair_flyer.png" alt="Lair of a flyer creature. You probably have to swim, they don't!" width="931" height="770" loading="lazy" style="image-resolution: from-image;" srcset="{{ site.baseurl }}/assets/2023/08/variants/lair_flyer.webp 931w, {{ site.baseurl }}/assets/2023/08/variants/lair_flyer-640w.webp 640w, {{ site.baseurl }}/assets/2023/08/variants/lair_flyer-320w.webp 320w" sizes="(min-width: 820px) 660px, (min-width: 520px) calc(100vw - 110px), (min-width: 460px) calc(175vw - 485px), calc(92.86vw - 89px)"/></a><br />
<figcaption>Lair of a flyer creature. You probably have to swim, they don't!</figcaption>
</figure>

<figure><a href="{{ site.baseurl }}/assets/2023/08/lair_goblin_king.png" target="_blank"><img src="{{ site.baseurl }}/assets/2023/08/lair_goblin_king.png" alt="Lair of the Goblin King" width="1471" height="849" loading="lazy" style="image-resolution: from-image;" srcset="{{ site.baseurl }}/assets/2023/08/variants/lair_goblin_king.webp 1471w, {{ site.baseurl }}/assets/2023/08/variants/lair_goblin_king-960w.webp 960w, {{ site.baseurl }}/assets/2023/08/variants/lair_goblin_king-640w.webp 640w, {{ site.baseurl }}/assets/2023/08/variants/lair_goblin_king-320w.webp 320w" sizes="(min-width: 820px) 660px, (min-width: 520px) calc(100vw - 110px), (min-width: 460px) calc(175vw - 485px), calc(92.86vw - 89px)"/></a><br />
<figcaption>Lair of the Goblin King</figcaption>
</figure>

<figure><a href="{{ site.baseurl }}/assets/2023/08/lair_ogre_1.png" target="_blank"><img src="{{ site.baseurl }}/assets/2023/08/lair_ogre_1.png" alt="Giant/Monstrosity lair #1" width="1721" height="897" loading="lazy" style="image-resolution: from-image;" srcset="{{ site.baseurl }}/assets/2023/08/variants/lair_ogre_1.webp 1721w, {{ site.baseurl }}/assets/2023/08/variants/lair_ogre_1-960w.webp 960w, {{ site.baseurl }}/assets/2023/08/variants/lair_ogre_1-640w.webp 640w, {{ site.baseurl }}/assets/2023/08/variants/lair_ogre_1-320w.webp 320w" sizes="(min-width: 820px) 660px, (min-width: 520px) calc(100vw - 110px), (min-width: 460px) calc(175vw - 485px), calc(92.86vw - 89px)"/></a><br />
<figcaption>Giant/Monstrosity lair #1</figcaption>
</figure>

<figure><a href="{{ site.baseurl }}/assets/2023/08/lair_ogre_2.png" target="_blank"><img src="{{ site.baseurl }}/assets/2023/08/lair_ogre_2.png" alt="Giant/Monstrosity lair #2" width="1374" height="774" loading="lazy" style="image-resolution: from-image;" srcset="{{ site.baseurl }}/assets/2023/08/variants/lair_ogre_2.webp 1374w, {{ site.baseurl }}/assets/2023/08/variants/lair_ogre_2-960w.webp 960w, {{ site.baseurl }}/assets/2023/08/variants/lair_ogre_2-640w.webp 640w, {{ site.baseurl }}/assets/2023/08/variants/lair_ogre_2-320w.webp 320w" sizes="(min-width: 820px) 660px, (min-width: 520px) calc(100vw - 110px), (min-width: 460px) calc(175vw - 485px), calc(92.86vw - 89px)"/></a><br />
<figcaption>Giant/Monstrosity lair #2</figcaption>
</figure>

<figure><a href="{{ site.baseurl }}/assets/2023/08/lair_ogre_3.png" target="_blank"><img src="{{ site.baseurl }}/assets/2023/08/lair_ogre_3.png" alt="Giant/Monstrosity lair #3" width="1874" height="897" loading="lazy" style="image-resolution: from-image;" srcset="{{ site.baseurl }}/assets/2023/08/variants/lair_ogre_3.webp 1874w, {{ site.baseurl }}/assets/2023/08/variants/lair_ogre_3-960w.webp 960w, {{ site.baseurl }}/assets/2023/08/variants/lair_ogre_3-640w.webp 640w, {{ site.baseurl }}/assets/2023/08/variants/lair_ogre_3-320w.webp 320w" sizes="(min-width: 820px) 660px, (min-width: 520px) calc(100vw - 110px), (min-width: 460px) calc(175vw - 485px), calc(92.86vw - 89px)"/></a><br />
<figcaption>Giant/Monstrosity lair #3</figcaption>
</figure>

<figure><a href="{{ site.baseurl }}/assets/2023/08/lair_warlock_1.png" target="_blank"><img src="{{ site.baseurl }}/assets/2023/08/lair_warlock_1.png" alt="Warlock lair #1" width="1603" height="899" loading="lazy" style="image-resolution: from-image;" srcset="{{ site.baseurl }}/assets/2023/08/variants/lair_warlock_1.webp 1603w, {{ site.baseurl }}/assets/2023/08/variants/lair_warlock_1-960w.webp 960w, {{ site.baseurl }}/assets/2023/08/variants/lair_warlock_1-640w.webp 640w, {{ site.baseurl }}/assets/2023/08/variants/lair_warlock_1-320w.webp 320w" sizes="(min-width: 820px) 660px, (min-width: 520px) calc(100vw - 110px), (min-width: 460px) calc(175vw - 485px), calc(92.86vw - 89px)"/></a><br />
<figcaption>Warlock lair #1</figcaption>
</figure>

<figure><a href="{{ site.baseurl }}/assets/2023/08/lair_warlock_2.png" target="_blank"><img src="{{ site.baseurl }}/assets/2023/08/lair_warlock_2.png" alt="Warlock lair #2" width="1856" height="875" loading="lazy" style="image-resolution: from-image;" srcset="{{ site.baseurl }}/assets/2023/08/variants/lair_warlock_2.webp 1856w, {{ site.baseurl }}/assets/2023/08/variants/lair_warlock_2-960w.webp 960w, {{ site.baseurl }}/assets/2023/08/variants/lair_warlock_2-640w.webp 640w, {{ site.baseurl }}/assets/2023/08/variants/lair_warlock_2-320w.webp 320w" sizes="(min-width: 820px) 660px, (min-width: 520px) calc(100vw - 110px), (min-width: 460px) calc(175vw - 485px), calc(92.86vw - 89px)"/></a><br />
<figcaption>Warlock lair #2</figcaption>
</figure>

<figure><a href="{{ site.baseurl }}/assets/2023/08/lair_warlock_3.png" target="_blank"><img src="{{ site.baseurl }}/assets/2023/08/lair_warlock_3.png" alt="Warlock lair #3" width="1720" height="841" loading="lazy" style="image-resolution: from-image;" srcset="{{ site.baseurl }}/assets/2023/08/variants/lair_warlock_3.webp 1720w, {{ site.baseurl }}/assets/2023/08/variants/lair_warlock_3-960w.webp 960w, {{ site.baseurl }}/assets/2023/08/variants/lair_warlock_3-640w.webp 640w, {{ site.baseurl }}/assets/2023/08/variants/lair_warlock_3-320w.webp 320w" sizes="(min-width: 820px) 660px, (min-width: 520px) calc(100vw - 110px), (min-width: 460px) calc(175vw - 485px), calc(92.86vw - 89px)"/></a><br />
<figcaption>Warlock lair #3</figcaption>
</figure>

<p><strong>Sticky web (dev) </strong></p>
<p>The journey of last week&#39;s work began in a rather frustrating way. I found out about Google Lighthouse, which is an automated tool for website quality. So I thought I&#39;d try it on my website. The first things that got flagged were the images, and some &quot;quality&quot; metric was really low (sth like 40/100) because images were too big and full-resolution. So I thought I&#39;d revisit the WebP conversion that I abandoned at some point (probably due to frustration with the format and lack of good automation). I tested the conversion on the images from last week, especially on the <a href="https://byte-arcane.github.io/sigil-of-kings-website//assets/2023/08/variants/lair_dragon.webp">dragon&#39;s lair image</a>. The lossless image is at 70% of the size, which is not superb, but the 99% quality image was well compressed but it changed the colors a bit too much. Not all colours -- just the red apples in the trees. I used ImageMagick for the conversion. I got annoyed and kept trying different settings, to no avail. Then I thought to try other converters. I tried Paint.NET, Irfanview and Gimp, all the same results -- with 100% quality I got lossless, with 99% quality I got bad apples. I was ready to abandon the webp stuff again but I thought I&#39;d try the <a href="https://developers.google.com/speed/webp/docs/cwebp">official tools</a>. I did try them with quality setting to 100 and 99, and got the same result. But then I tried that <em>near_lossless</em> parameter which was not exposed in the other tools, and guess what, my apples remained bright red after compression! So, I wrote a script and converted the entire blog&#39;s images in webp with that setting. But that&#39;s just chapter one of that saga.</p>
<p>During the web searches, I also found out about that &quot;srcset&quot; parameter in the &quot;img&quot; tag where you put different sized images. So the script also got augmented to create reduced versions for widths of 960, 640 and 320, all in webp. I ran everything through lighthouse again, and the score (for some example problematic page) went up from 44/70 to ... 40/91. Bizarre. Looking at more complaints, one of them was that I didn&#39;t specify width/weight in img tags. Wrote another script to edit all pages to add that info. Looking better in lighthouse, but I tried another &quot;image linter&quot; tool for a webpage and now it complains that, if I set &quot;srcset&quot; then I have to set &quot;sizes&quot; as well. I couldn&#39;t figure it out though, and the linter keeps complaining that I should add some arbitrary looking numbers that I don&#39;t understand, including some calc() expressions, which look dubious to me plus I didn&#39;t want to make the page slower for other reasons. Lighthouse complained about things like contrast and the progressive web app score was also terrible, missing splash screens etc. I just want a static web page! At the same time, Google has not been indexing most of the pages of the blog and it doesn&#39;t tell me why, so after the recent changes I updated/submitted a new sitemap so hopefully it will start indexing. </p>
<p>Another thing that bothered me was that now all my images seemed to be at 960px (I have full res, 960, 640 and 320), even when I right click and open in new tab. Plus, it&#39;s a webp image, so you can&#39;t do much with it. After a bit of ChatGPT consultation, hand-holding it a bit and correcting some of its nonsense/lies, I got something marginally more useful. So now, in addition to the &quot;srcset&quot; being correctly set (I hope), when you click on an image or when you right-click and open in new tab, you get the full resolution PNG, which is better. In the end, I did go with the linter&#39;s suggestion to use the &quot;calc&quot; expressions, and the Google Lighthouse score is now higher. Oh well, I don&#39;t understand it, but as long as it works, fine. </p>
<p>Another thing that I needed to fix was the youtube embeds. Apparently they&#39;re slow as hell, so after a bit of reading online, I converted the embed to an image hyperlink (image taken from youtube) and the addition of a button graphic overlay on the hyperlink, so it looks like a legit video but it&#39;s really a jpg thumbnail plus a button hyperlink. Lighthouse performance score is now higher (90/90/97/93 for the last 4 blog posts) and all other metrics are well above 90 too</p>
<p>This web stuff is really not my thing, so I&#39;m going to put a stop for a while (scores are good anyway) and check in a couple of weeks to see if Google crawled anything. </p>
<p><strong>Misc fixes</strong></p>
<ul>
<li>Boss auras are now in sync with the animation of the entity that projects the aura.</li>
<li>Creature selection for bosses is a bit more granular. We can provide allowed classifications, roles, temperements, encounter groups etc.</li>
<li>Doors that link different zones remain closed. This is useful so that bosses won&#39;t randomly walk through to different areas.</li>
</ul>


<figure>
<div class="video-container"><iframe src="https://www.youtube.com/embed/v01_MyUbyOc" allowfullscreen="" frameborder="0" srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/v01_MyUbyOc?autoplay=1><img src=https://img.youtube.com/vi/v01_MyUbyOc/hqdefault.jpg alt='video play button'><span>&#x25BA;</span></a>" loading="lazy" title="Short pan through a level"></iframe></div>
<figcaption>Short pan through a level</figcaption>
</figure>